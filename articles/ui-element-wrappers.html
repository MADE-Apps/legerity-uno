<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Building custom Uno Platform element wrappers | Legerity for Uno Platform </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="title" content="Building custom Uno Platform element wrappers | Legerity for Uno Platform ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <meta property="og:url" content="https://made-apps.github.io/legerity-uno/articles/ui-element-wrappers.html">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Building custom Uno Platform element wrappers | Legerity for Uno Platform ">
    <meta property="og:description" content="Legerity for Uno Platform is a framework for writing cross-platform UI tests that can be written once and run on Windows, WebAssembly, iOS, and Android">
    <meta property="og:image" content="https://made-apps.github.io/legerity-uno/images/social.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="made-apps.github.io">
    <meta property="twitter:url" content="https://made-apps.github.io/legerity-uno/articles/ui-element-wrappers.html">
    <meta name="twitter:title" content="Building custom Uno Platform element wrappers | Legerity for Uno Platform ">
    <meta name="twitter:description" content="Legerity for Uno Platform is a framework for writing cross-platform UI tests that can be written once and run on Windows, WebAssembly, iOS, and Android">
    <meta name="twitter:image" content="https://made-apps.github.io/legerity-uno/images/social.png">
    <link rel="shortcut icon" href="../images/Logo.png">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap-grid.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-87DrmpqHRiY8hPLIr7ByqhPIywuSsjuQAfMXAE0sMUpY3BM7nXjf+mLIUSvhDArs" crossorigin="anonymous">
    <link rel="stylesheet" href="../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    <meta property="docfx:newtab" content="true">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-0D1GB4RC58"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
  
      gtag('config', 'G-0D1GB4RC58');
    </script>
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/Logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="legerity-custom-element-wrappers">
<h1 id="uno-platform-element-wrappers">Uno Platform element wrappers</h1>

<p>The goal of the Uno Platform element wrappers is to provide an easy set of components that surface up properties and actions of the actual controls within the UI to make it easier for you to write tests that interact with them.</p>
<h2 id="using-the-uno-platform-element-wrappers">Using the Uno Platform element wrappers</h2>
<p>Using an element wrapper in your UI tests is super simple.</p>
<p>Where you want to find an element in the Selenium driver that would usually return a <code>RemoteWebElement</code>, <code>AppiumWebElement</code> or platform-specific alternative, simply replace the <code>var</code> or Type declaration with the intended element wrapper type.</p>
<pre><code class="lang-csharp">CommandBar pageCommandBar = this.App.FindElement(ByExtras.AutomationId(&quot;PageCommandBar&quot;));
</code></pre>
<p>From there, you can access all of the additional actions and properties that are exposed by the element wrapper.</p>
<h2 id="creating-your-own-platform-element-wrappers">Creating your own platform element wrappers</h2>
<p>While out-of-the-box, Legerity for Uno Platform provides a collection of element wrappers for the core platform controls, we expose the parts of the framework that allow you to create element wrappers for your own custom controls!</p>
<h3 id="sample">Sample</h3>
<p>In this sample, the application under test has a custom combo box.</p>
<p>It's recommended that when creating your own element wrappers, you provide the <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/user-defined-conversion-operators">implicit operators</a> that will allow you to use your wrapper when finding an element without direct casting.</p>
<pre><code class="lang-csharp">namespace UnoAppTests.Elements
{
    using System;
    using Legerity.Uno.Elements;
    using OpenQA.Selenium;
    using OpenQA.Selenium.Appium.Android;
    using OpenQA.Selenium.Appium.iOS;
    using OpenQA.Selenium.Appium.Windows;
    using OpenQA.Selenium.Remote;

    public class CustomComboBox : UnoElementWrapper
    {
        public ComboBox(IWebElement element) : this(element as RemoteWebElement) { }

        public ComboBox(RemoteWebElement element) : base(element) { }

        public string SelectedItem =&gt; DetermineSelectedItem();

        public static implicit operator ComboBox(RemoteWebElement element)
        {
            return new ComboBox(element);
        }

        public void SelectItem(string name)
        {
            Element.Click();
            VerifyElementsShown(this.ComboBoxItemLocator(), TimeSpan.FromSeconds(2));
            DetermineListElement(name).Click();
        }

        private RemoteWebElement DetermineListElement(string name)
        {
            return Element switch
            {
                AndroidElement _ =&gt; DetermineListElementAndroid(name),
                IOSElement _ =&gt; DetermineListElementIOS(name),
                WindowsElement _ =&gt; DetermineListElementWindows(name),
                _ =&gt; DetermineListElementWasm(name)
            };
        }

        private string DetermineSelectedItem()
        {
            return this.Element switch
            {
                AndroidElement _ =&gt; DetermineSelectedItemAndroid(),
                IOSElement _ =&gt; DetermineSelectedItemIOS(),
                WindowsElement _ =&gt; DetermineSelectedItemWindows(),
                _ =&gt; this.DetermineSelectedItemWasm()
            };
        }

        private By ComboBoxItemLocator()
        {
            return this.Element switch
            {
                AndroidElement _ =&gt; ComboBoxItemLocatorAndroid(),
                IOSElement _ =&gt; ComboBoxItemLocatorIOS(),
                WindowsElement _ =&gt; ComboBoxItemLocatorWindows(),
                _ =&gt; ComboBoxItemLocatorWasm()
            };
        }
    }
}
</code></pre>
<p>To support Uno Platform's various implementations across their supported platforms, you can determine child elements, properties, locators, and actions by performing a <code>switch</code> statement on the <code>Element</code> property. This will allow you to tailor your element wrapper to the platform you're targeting.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/MADE-Apps/legerity-uno/blob/main/docs/articles/ui-element-wrappers.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright (c) MADE Apps
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
